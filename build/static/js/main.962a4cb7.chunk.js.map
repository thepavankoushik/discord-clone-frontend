{"version":3,"sources":["shared/components/AuthBox.js","authPages/LoginPage/LoginPageHeader.js","shared/components/InputWithLabel.js","authPages/LoginPage/LoginPageInputs.js","shared/components/CustomPrimaryButton.js","shared/components/RedirectInfo.js","authPages/LoginPage/LoginPageFooter.js","shared/utils/validators.js","shared/utils/auth.js","api.js","store/actions/alertActions.js","store/actions/authActions.js","authPages/LoginPage/LoginPage.js","authPages/RegisterPage/RegisterPageInputs.js","authPages/RegisterPage/RegisterPageFooter.js","authPages/RegisterPage/RegisterPage.js","Dashboard/SideBar/MainPageButton.js","store/reducers/authReducer.js","store/reducers/alertReducer.js","store/actions/friendsActions.js","store/reducers/friendsReducer.js","store/actions/chatActions.js","store/reducers/chatReducer.js","store/actions/roomActions.js","store/reducers/roomReducer.js","store/store.js","shared/utils/chat.js","realtimeCommunication/webRTCHandler.js","realtimeCommunication/socketConnection.js","realtimeCommunication/roomHandler.js","Dashboard/SideBar/CreateRoomButton.js","shared/components/Avatar.js","Dashboard/SideBar/ActiveRoomButton.js","Dashboard/SideBar/SideBar.js","Dashboard/FriendsSideBar/AddFriendDialog.js","Dashboard/FriendsSideBar/AddFriendButton.js","Dashboard/FriendsSideBar/FriendsTitle.js","Dashboard/FriendsSideBar/FriendsList/OnlineIndicator.js","Dashboard/FriendsSideBar/FriendsList/FriendsListItem.js","Dashboard/FriendsSideBar/FriendsList/FriendsList.js","Dashboard/FriendsSideBar/PendingInvitationsList/InvitationDecisionButtons.js","Dashboard/FriendsSideBar/PendingInvitationsList/PendingInvitationsListItem.js","Dashboard/FriendsSideBar/PendingInvitationsList/PendingInvitationsList.js","Dashboard/FriendsSideBar/FriendsSideBar.js","Dashboard/Messenger/WelcomeMessage.js","Dashboard/Messenger/Messages/MessagesHeader.js","Dashboard/Messenger/Messages/Message.js","Dashboard/Messenger/Messages/DateSeparator.js","Dashboard/Messenger/Messages/Messages.js","Dashboard/Messenger/NewMessageInput.js","Dashboard/Messenger/MessengerContent.js","Dashboard/Messenger/Messenger.js","Dashboard/AppBar/DropdownMenu.js","Dashboard/AppBar/ChosenOptionLabel.js","Dashboard/AppBar/AppBar.js","Dashboard/Room/ResizeRoomButton.js","Dashboard/Room/Video.js","Dashboard/Room/VideosContainer.js","Dashboard/Room/RoomButtons/CameraButton.js","Dashboard/Room/RoomButtons/MicButton.js","Dashboard/Room/RoomButtons/CloseRoomButton.js","Dashboard/Room/RoomButtons/ScreenShareButton.js","Dashboard/Room/RoomButtons/RoomButtons.js","Dashboard/Room/Room.js","Dashboard/Dashboard.js","shared/components/AlertNotification.js","App.js","index.js"],"names":["BoxWrapper","styled","width","height","display","alignItems","justifyContent","background","AuthBox","props","Box","sx","bgcolor","borderRadius","boxShadow","flexDirection","padding","children","LoginPageHeader","Typography","variant","color","Wrapper","Label","textTransform","fontWeight","fontSize","Input","flexGrow","border","margin","InputWithLabel","value","setValue","label","type","placeholder","onChange","event","target","LoginPageInputs","mail","setMail","password","setPassword","CustomPrimaryButton","additionalStyles","disabled","onClick","Button","style","RedirectText","cursor","RedirectInfo","text","redirectText","redirectHandler","LoginPageFooter","handleLogin","isFormValid","history","useHistory","Tooltip","title","marginTop","push","validatePassword","length","validateMail","test","validateUsername","username","logout","localStorage","clear","window","location","pathname","apiClient","axios","create","baseURL","timeout","interceptors","request","use","config","userDetails","getItem","token","JSON","parse","headers","Authorization","err","Promise","reject","login","data","post","error","exception","register","sendFriendInvitation","checkResponseCode","acceptFriendInvitation","rejectFriendInvitation","responseCode","response","status","alertActions","OPEN_ALERT_MESSAGE","CLOSE_ALERT_MESSAGE","openAlertMessage","content","closeAlertMessage","authActions","getActions","dispatch","setUserDetails","api","setItem","stringify","console","log","connect","useState","setIsFormValid","useEffect","isMailValid","isPasswordValid","validateLoginForm","RegisterPageInputs","setUsername","RegisterPageFooter","handleRegister","validateRegisterForm","MainPageButton","minWidth","backgroundColor","initState","reducer","state","action","showAlertMessage","alertMessageContent","friendsActions","closeDialogHandler","friends","pendingFriendsInvitations","onlineUsers","chatTypes","chatActions","setChosenChatDetails","chatDetails","chatType","chosenChatDetails","messages","roomActions","setOpenRoom","isUserRoomCreator","isUserInRoom","setAudioOnly","audioOnly","setScreenSharingStream","stream","setRoomDetails","roomDetails","setLocalStream","localStream","setRemoteStreams","remoteStreams","isScreenSharingActive","screenSharingStream","setIsUserJoinedOnlyWithAudio","onlyWithAudio","isUserJoinedWithOnlyAudio","activeRooms","rootReducer","combineReducers","auth","authReducer","alert","alertReducer","friendsReducer","chat","chatReducer","room","roomReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","updateChatHistoryIfSameConversationActive","participants","usersInCoversation","every","participantId","includes","setMessages","onlyAudioConstraints","audio","video","defaultConstraints","getLocalStreamPreview","onlyAudio","callbackFunc","constraints","navigator","mediaDevices","getUserMedia","then","catch","peers","prepareNewPeerConnection","connUserSocketId","isInitiator","getState","Peer","initiator","warn","iceServers","urls","on","socketConnection","signal","remoteStream","addNewRemoteStream","newRemoteStreams","switchOutgoingTracks","socket_id","index","streams","getTracks","index2","kind","replaceTrack","socket","connectWithSocketServer","jwtToken","io","id","pendingInvitations","setFriends","setOnlineUsers","receiverId","userId","_id","updateDirectChatHistoryIfActive","roomHandler","webRTCHandler","emit","destroy","filter","signalPeerData","createNewRoom","newRoomCreated","updateActiveRooms","rooms","forEach","roomCreator","creatorUsername","f","setActiveRooms","joinRoom","roomId","leaveRoom","track","stop","Object","entries","mappedObject","CreateRoomButton","AvatarPreview","Avatar","large","substring","ActiveRoomButton","amountOfParticipants","activeRoomButtonDisabled","roomTitle","MainContainer","map","isDialogOpen","handleCloseDialog","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","targetMailAddress","marginLeft","marginRight","marginBottom","AddFriendButton","setIsDialogOpen","FriendsTitle","OnlineIndicator","position","right","details","isOnline","name","align","checkOnlineUsers","isUserOnline","find","user","InvitationDecisionButtons","acceptInvitationHandler","rejectInvitationHandler","IconButton","buttonsDisabled","setButtonsDisabled","overflow","invitation","senderId","FriendsSideBar","WelcomeMessage","MessagesHeader","AvatarContainer","MessageContainer","MessageContent","SameAuthorMessageContent","SameAuthorMessageText","Message","sameAuthor","date","sameDay","Separator","DateLabel","left","top","DateSeparator","convertDateToHumanReadable","format","mm","getMonth","dd","getDate","yy","getFullYear","toString","slice","yyyy","replace","matched","message","author","Date","setMessage","handleSendMessage","receiverUserId","onKeyDown","key","MessengerContent","React","anchorEl","setAnchorEl","Boolean","currentTarget","Menu","MenuListProps","MenuItem","borderBottom","AppBar","DropdownMenu","bottom","ResizeRoomButton","isRoomMinimized","handleRoomResize","VideoEl","Video","isLocalStream","videoRef","useRef","current","srcObject","onloadedmetadata","play","ref","autoPlay","muted","flexWrap","CameraButton","cameraEnabled","setCameraEnabled","getVideoTracks","enabled","MicButton","micEnabled","setMicEnabled","getAudioTracks","CloseRoomButton","ScreenShareButton","handleScreenShareToggle","getDisplayMedia","t","borderTopLeftRadius","borderTopRightRadius","fullScreenRoomStyle","minimizedRoomStyle","Room","setIsRoomMinimized","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","severity","App","exact","path","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.962a4cb7.chunk.js","sourcesContent":["import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { styled } from \"@mui/system\";\n\nconst BoxWrapper = styled(\"div\")({\n  width: \"100%\",\n  height: \"100vh\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  background: \"#5865F2\",\n});\n\nconst AuthBox = (props) => {\n  return (\n    <BoxWrapper>\n      <Box\n        // The sx prop is a shortcut for defining custom styles that has access to the theme.\n        sx={{\n          width: 700,\n          height: 400,\n          bgcolor: \"#36393f\",\n          borderRadius: \"5px\",\n          boxShadow: \"0 2px 10px 0 rgb(0 0 0 / 20%)\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          padding: \"25px\",\n        }}\n      >\n        {props.children}\n      </Box>\n    </BoxWrapper>\n  );\n};\n\nexport default AuthBox;\n","import React from \"react\";\nimport { Typography } from \"@mui/material\";\n\nconst LoginPageHeader = () => {\n  return (\n    <>\n      <Typography variant=\"h5\" sx={{ color: \"white\" }}>\n        Welcome Back!\n      </Typography>\n      <Typography sx={{ color: \"#b9bbbe\" }}>\n        We are happy that you are with us!\n      </Typography>\n    </>\n  );\n};\n\nexport default LoginPageHeader;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\n\nconst Wrapper = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"center\",\n  flexDirection: \"column\",\n  width: \"100%\",\n});\n\nconst Label = styled(\"p\")({\n  color: \"#b9bbbe\",\n  textTransform: \"uppercase\",\n  fontWeight: \"600\",\n  fontSize: \"16px\",\n});\n\nconst Input = styled(\"input\")({\n  flexGrow: 1,\n  height: \"40px\",\n  border: \"1px solid black\",\n  borderRadius: \"5px\",\n  color: \"#dcddde\",\n  background: \"#35393f\",\n  margin: 0,\n  fontSize: \"16px\",\n  padding: \"0 5px\",\n});\n\nconst InputWithLabel = (props) => {\n  const { value, setValue, label, type, placeholder } = props;\n\n  const handleValueChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  return (\n    <Wrapper>\n      <Label>{label}</Label>\n      <Input\n        value={value}\n        onChange={handleValueChange}\n        type={type}\n        placeholder={placeholder}\n      />\n    </Wrapper>\n  );\n};\n\nexport default InputWithLabel;\n","import React from \"react\";\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\n\nconst LoginPageInputs = ({ mail, setMail, password, setPassword }) => {\n  return (\n    <>\n      <InputWithLabel\n        value={mail}\n        setValue={setMail}\n        label=\"E-mail\"\n        type=\"text\"\n        placeholder=\"Enter e-mail address\"\n      />\n      <InputWithLabel\n        value={password}\n        setValue={setPassword}\n        label=\"Password\"\n        type=\"password\"\n        placeholder=\"Enter password\"\n      />\n    </>\n  );\n};\n\nexport default LoginPageInputs;\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\n\nconst CustomPrimaryButton = ({\n  label,\n  additionalStyles,\n  disabled,\n  onClick,\n}) => {\n  return (\n    <Button\n      variant=\"contained\"\n      sx={{\n        bgcolor: \"#5865F2\",\n        color: \"white\",\n        textTransform: \"none\",\n        fontSize: \"16px\",\n        fontWeight: 500,\n        width: \"100%\",\n        height: \"40px\",\n      }}\n      style={additionalStyles ? additionalStyles : {}}\n      disabled={disabled}\n      onClick={onClick}\n    >\n      {label}\n    </Button>\n  );\n};\n\nexport default CustomPrimaryButton;\n","import React from \"react\";\nimport { Typography } from \"@mui/material\";\nimport { styled } from \"@mui/system\";\n\nconst RedirectText = styled(\"span\")({\n  color: \"#00AFF4\",\n  fontWeight: 500,\n  cursor: \"pointer\",\n});\n\nconst RedirectInfo = ({\n  text,\n  redirectText,\n  additionalStyles,\n  redirectHandler,\n}) => {\n  return (\n    <Typography\n      sx={{ color: \"#72767d\" }}\n      style={additionalStyles ? additionalStyles : {}}\n      variant=\"subtitle2\"\n    >\n      {text}\n      <RedirectText onClick={redirectHandler}>{redirectText}</RedirectText>\n    </Typography>\n  );\n};\n\nexport default RedirectInfo;\n","import React from \"react\";\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\nimport RedirectInfo from \"../../shared/components/RedirectInfo\";\nimport { useHistory } from \"react-router-dom\";\nimport { Tooltip } from \"@mui/material\";\n\nconst getFormNotValidMessage = () => {\n  return \"Enter correct e-mail address and password should contains between 6 and 12 characters\";\n};\n\nconst getFormValidMessage = () => {\n  return \"Press to log in!\";\n};\n\nconst LoginPageFooter = ({ handleLogin, isFormValid }) => {\n  const history = useHistory();\n\n  const handlePushToRegisterPage = () => {\n    history.push(\"/register\");\n  };\n\n  return (\n    <>\n      <Tooltip\n        title={!isFormValid ? getFormNotValidMessage() : getFormValidMessage()}\n      >\n        {/* Tooltip component cannot accept custom components as child, it only accepts html elements and hence we are using div here for it  */}\n        <div>\n          <CustomPrimaryButton\n            label=\"Log in\"\n            additionalStyles={{ marginTop: \"30px\" }}\n            disabled={!isFormValid}\n            onClick={handleLogin}\n          />\n        </div>\n      </Tooltip>\n      <RedirectInfo\n        text=\"Need an account? \"\n        redirectText=\"Create an account\"\n        additionalStyles={{ marginTop: \"5px\" }}\n        redirectHandler={handlePushToRegisterPage}\n      />\n    </>\n  );\n};\n\nexport default LoginPageFooter;\n","export const validateLoginForm = ({ mail, password }) => {\n  const isMailValid = validateMail(mail);\n  const isPasswordValid = validatePassword(password);\n\n  return isMailValid && isPasswordValid;\n};\n\nexport const validateRegisterForm = ({ mail, password, username }) => {\n  return (\n    validateMail(mail) &&\n    validatePassword(password) &&\n    validateUsername(username)\n  );\n};\n\nconst validatePassword = (password) => {\n  return password.length > 5 && password.length < 13;\n};\n\nexport const validateMail = (mail) => {\n  const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n  return emailPattern.test(mail);\n};\n\nconst validateUsername = (username) => {\n  return username.length > 2 && username.length < 13;\n};\n","export const logout = () => {\n  localStorage.clear();\n  window.location.pathname = \"/login\";\n};\n","import axios from \"axios\";\nimport { logout } from \"./shared/utils/auth\";\n\nconst apiClient = axios.create({\n  baseURL: \"https://thepavankoushik-discord-back.herokuapp.com/api\",\n  timeout: 1000,\n});\n\napiClient.interceptors.request.use(\n  (config) => {\n    const userDetails = localStorage.getItem(\"user\");\n\n    if (userDetails) {\n      const token = JSON.parse(userDetails).token;\n      // add token in authrization header\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n\n    return config;\n  },\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\n// public routes so authorization token is not required\n\nexport const login = async (data) => {\n  try {\n    return await apiClient.post(\"/auth/login\", data);\n  } catch (exception) {\n    return {\n      error: true,\n      exception,\n    };\n  }\n};\n\nexport const register = async (data) => {\n  try {\n    return await apiClient.post(\"/auth/register\", data);\n  } catch (exception) {\n    return {\n      error: true,\n      exception,\n    };\n  }\n};\n\n// secure routes(JWT token will be required)\nexport const sendFriendInvitation = async (data) => {\n  try {\n    return await apiClient.post(\"/friend-invitation/invite\", data);\n  } catch (exception) {\n    checkResponseCode(exception);\n    return {\n      error: true,\n      exception,\n    };\n  }\n};\n\nexport const acceptFriendInvitation = async (data) => {\n  try {\n    return await apiClient.post(\"/friend-invitation/accept\", data);\n  } catch (exception) {\n    checkResponseCode(exception);\n    return {\n      error: true,\n      exception,\n    };\n  }\n};\n\nexport const rejectFriendInvitation = async (data) => {\n  try {\n    return await apiClient.post(\"/friend-invitation/reject\", data);\n  } catch (exception) {\n    checkResponseCode(exception);\n    return {\n      error: true,\n      exception,\n    };\n  }\n};\n\nconst checkResponseCode = (exception) => {\n  const responseCode = exception?.response?.status;\n\n  if (responseCode) {\n    (responseCode === 401 || responseCode === 403) && logout();\n  }\n};\n","const alertActions = {\n  OPEN_ALERT_MESSAGE: \"ALERT.OPEN_ALERT_MESSAGE\",\n  CLOSE_ALERT_MESSAGE: \"ALERT.CLOSE_ALERT_MESSAGE\",\n};\n\nexport const getActions = (dispatch) => {\n  return {\n    openAlertMessage: (content) => dispatch(openAlertMessage(content)),\n    closeAlertMessage: () => dispatch(closeAlertMessage()),\n  };\n};\n\nexport const openAlertMessage = (content) => {\n  return {\n    type: alertActions.OPEN_ALERT_MESSAGE,\n    content,\n  };\n};\n\nexport const closeAlertMessage = () => {\n  return {\n    type: alertActions.CLOSE_ALERT_MESSAGE,\n  };\n};\n\nexport default alertActions;\n","import * as api from \"../../api\";\nimport { openAlertMessage } from \"./alertActions\";\n\nexport const authActions = {\n  SET_USER_DETAILS: \"AUTH.SET_USER_DETAILS\",\n};\n\nexport const getActions = (dispatch) => {\n  return {\n    login: (userDetails, history) => dispatch(login(userDetails, history)),\n    register: (userDetails, history) =>\n      dispatch(register(userDetails, history)),\n    setUserDetails: (userDetails) => dispatch(setUserDetails(userDetails)),\n  };\n};\n\nconst setUserDetails = (userDetails) => {\n  return {\n    type: authActions.SET_USER_DETAILS,\n    userDetails,\n  };\n};\n\nconst login = (userDetails, history) => {\n  return async (dispatch) => {\n    const response = await api.login(userDetails);\n    if (response.error) {\n      dispatch(openAlertMessage(response?.exception?.response?.data));\n    } else {\n      const { userDetails } = response?.data;\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\n\n      dispatch(setUserDetails(userDetails));\n      history.push(\"/dashboard\");\n    }\n  };\n};\n\nconst register = (userDetails, history) => {\n  return async (dispatch) => {\n    const response = await api.register(userDetails);\n    console.log(response);\n    if (response.error) {\n      dispatch(openAlertMessage(response?.exception?.response?.data));\n    } else {\n      const { userDetails } = response?.data;\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\n\n      dispatch(setUserDetails(userDetails));\n      history.push(\"/dashboard\");\n    }\n  };\n};\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport AuthBox from \"../../shared/components/AuthBox\";\nimport LoginPageHeader from \"./LoginPageHeader\";\nimport LoginPageInputs from \"./LoginPageInputs\";\nimport LoginPageFooter from \"./LoginPageFooter\";\nimport { validateLoginForm } from \"../../shared/utils/validators\";\nimport { connect } from \"react-redux\";\nimport { getActions } from \"../../store/actions/authActions\";\n\nconst LoginPage = ({ login }) => {\n  const history = useHistory();\n\n  const [mail, setMail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isFormValid, setIsFormValid] = useState(false);\n\n  useEffect(() => {\n    // runs form validation logic every time the mail, password and form validation state is changed\n    setIsFormValid(validateLoginForm({ mail, password }));\n  }, [mail, password, setIsFormValid]);\n\n  const handleLogin = () => {\n    const userDetails = {\n      mail,\n      password,\n    };\n    login(userDetails, history);\n  };\n\n  return (\n    <AuthBox>\n      <LoginPageHeader />\n      <LoginPageInputs\n        mail={mail}\n        setMail={setMail}\n        password={password}\n        setPassword={setPassword}\n      />\n      <LoginPageFooter isFormValid={isFormValid} handleLogin={handleLogin} />\n    </AuthBox>\n  );\n};\n\n// now, useSelector and useDispatch are a set of hooks to use as alternatives to the existing connect() higher-order component.\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(null, mapActionsToProps)(LoginPage);\n","import React from \"react\";\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\n\nconst RegisterPageInputs = (props) => {\n  const { mail, setMail, username, setUsername, password, setPassword } = props;\n\n  return (\n    <>\n      <InputWithLabel\n        value={mail}\n        setValue={setMail}\n        label=\"E-mail address\"\n        type=\"text\"\n        placeholder=\"Enter e-mail address\"\n      />\n      <InputWithLabel\n        value={username}\n        setValue={setUsername}\n        label=\"Username\"\n        type=\"text\"\n        placeholder=\"Enter a username\"\n      />\n      <InputWithLabel\n        value={password}\n        setValue={setPassword}\n        label=\"Password\"\n        type=\"password\"\n        placeholder=\"Enter password\"\n      />\n    </>\n  );\n};\n\nexport default RegisterPageInputs;\n","import React from \"react\";\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\nimport RedirectInfo from \"../../shared/components/RedirectInfo\";\nimport { useHistory } from \"react-router-dom\";\nimport { Tooltip } from \"@mui/material\";\n\nconst getFormNotValidMessage = () => {\n  return \"Username should contains between 3 and 12 characters and password should contains between 6 and 12 character. Also correct e-mail address should provided\";\n};\n\nconst getFormValidMessage = () => {\n  return \"Press to register!\";\n};\n\nconst RegisterPageFooter = ({ handleRegister, isFormValid }) => {\n  const history = useHistory();\n\n  const handlePushToLoginPage = () => {\n    history.push(\"/login\");\n  };\n\n  return (\n    <>\n      <Tooltip\n        title={!isFormValid ? getFormNotValidMessage() : getFormValidMessage()}\n      >\n        <div>\n          <CustomPrimaryButton\n            label=\"Register\"\n            additionalStyles={{ marginTop: \"30px\" }}\n            disabled={!isFormValid}\n            onClick={handleRegister}\n          />\n        </div>\n      </Tooltip>\n      <RedirectInfo\n        text=\"\"\n        redirectText=\"Already have an account ?\"\n        additionalStyles={{ marginTop: \"5px\" }}\n        redirectHandler={handlePushToLoginPage}\n      />\n    </>\n  );\n};\n\nexport default RegisterPageFooter;\n","import React, { useState, useEffect } from \"react\";\nimport { Typography } from \"@mui/material\";\nimport AuthBox from \"../../shared/components/AuthBox\";\nimport RegisterPageInputs from \"./RegisterPageInputs\";\nimport RegisterPageFooter from \"./RegisterPageFooter\";\nimport { validateRegisterForm } from \"../../shared/utils/validators\";\nimport { connect } from \"react-redux\";\nimport { getActions } from \"../../store/actions/authActions\";\nimport { useHistory } from \"react-router-dom\";\n\nconst RegisterPage = ({ register }) => {\n  const history = useHistory();\n\n  const [mail, setMail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [isFormValid, setIsFormValid] = useState(false);\n\n  const handleRegister = () => {\n    const userDetails = {\n      mail,\n      password,\n      username,\n    };\n    register(userDetails, history);\n  };\n\n  useEffect(() => {\n    setIsFormValid(\n      validateRegisterForm({\n        mail,\n        username,\n        password,\n      })\n    );\n  }, [mail, username, password, setIsFormValid]);\n\n  return (\n    <AuthBox>\n      <Typography variant=\"h5\" sx={{ color: \"white \" }}>\n        Create an account\n      </Typography>\n      <RegisterPageInputs\n        mail={mail}\n        setMail={setMail}\n        username={username}\n        setUsername={setUsername}\n        password={password}\n        setPassword={setPassword}\n      />\n      <RegisterPageFooter\n        handleRegister={handleRegister}\n        isFormValid={isFormValid}\n      />\n    </AuthBox>\n  );\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(null, mapActionsToProps)(RegisterPage);\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport GroupsIcon from \"@mui/icons-material/Groups\";\n\nconst MainPageButton = () => {\n  return (\n    <Button\n      style={{\n        width: \"48px\",\n        height: \"48px\",\n        borderRadius: \"16px\",\n        margin: 0,\n        padding: 0,\n        minWidth: 0,\n        marginTop: \"10px\",\n        color: \"white\",\n        backgroundColor: \"#5865F2\",\n      }}\n    >\n      <GroupsIcon />\n    </Button>\n  );\n};\n\nexport default MainPageButton;\n","import { authActions } from \"../actions/authActions\";\n\nconst initState = {\n  userDetails: null,\n};\n\nconst reducer = (state = initState, action) => {\n  switch (action.type) {\n    case authActions.SET_USER_DETAILS:\n      return {\n        ...state,\n        userDetails: action.userDetails,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import alertActions from \"../actions/alertActions\";\n\nconst initState = {\n  showAlertMessage: false,\n  alertMessageContent: null,\n};\n\nconst reducer = (state = initState, action) => {\n  switch (action.type) {\n    case alertActions.OPEN_ALERT_MESSAGE:\n      return {\n        ...state,\n        showAlertMessage: true,\n        alertMessageContent: action.content,\n      };\n    case alertActions.CLOSE_ALERT_MESSAGE:\n      return {\n        ...state,\n        showAlertMessage: false,\n        alertMessageContent: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { openAlertMessage } from \"./alertActions\";\nimport * as api from \"../../api\";\n\nexport const friendsActions = {\n  SET_FRIENDS: \"FRIENDS.SET_FRIENDS\",\n  SET_PENDING_FRIENDS_INVITATIONS: \"FRIENDS.SET_PENDING_FRIENDS_INVITATIONS\",\n  SET_ONLINE_USERS: \"FRIENDS.SET_ONLINE_USERS\",\n};\n\nexport const getActions = (dispatch) => {\n  return {\n    sendFriendInvitation: (data, closeDialogHandler) =>\n      dispatch(sendFriendInvitation(data, closeDialogHandler)),\n    acceptFriendInvitation: (data) => dispatch(acceptFriendInvitation(data)),\n    rejectFriendInvitation: (data) => dispatch(rejectFriendInvitation(data)),\n  };\n};\n\nexport const setPendingFriendsInvitations = (pendingFriendsInvitations) => {\n  return {\n    type: friendsActions.SET_PENDING_FRIENDS_INVITATIONS,\n    pendingFriendsInvitations,\n  };\n};\n\nexport const setFriends = (friends) => {\n  return {\n    type: friendsActions.SET_FRIENDS,\n    friends,\n  };\n};\n\nexport const setOnlineUsers = (onlineUsers) => {\n  return {\n    type: friendsActions.SET_ONLINE_USERS,\n    onlineUsers,\n  };\n};\n\nconst sendFriendInvitation = (data, closeDialogHandler) => {\n  return async (dispatch) => {\n    const response = await api.sendFriendInvitation(data);\n\n    if (response.error) {\n      dispatch(openAlertMessage(response.exception?.response?.data));\n    } else {\n      dispatch(openAlertMessage(\"Invitation has been sent!\"));\n      closeDialogHandler(); // only closes the dialog for success and will keep dialogue on if there is error so that user can rectify the error\n    }\n  };\n};\n\nconst acceptFriendInvitation = (data) => {\n  return async (dispatch) => {\n    const response = await api.acceptFriendInvitation(data);\n\n    if (response.error) {\n      dispatch(openAlertMessage(response.exception?.response?.data));\n    } else {\n      dispatch(openAlertMessage(\"Invitation accepted!\"));\n    }\n  };\n};\n\nconst rejectFriendInvitation = (data) => {\n  return async (dispatch) => {\n    const response = await api.rejectFriendInvitation(data);\n\n    if (response.error) {\n      dispatch(openAlertMessage(response.exception?.response?.data));\n    } else {\n      dispatch(openAlertMessage(\"Invitation rejected!\"));\n    }\n  };\n};\n","import { friendsActions } from \"../actions/friendsActions\";\n\nconst initState = {\n    friends: [],\n    pendingFriendsInvitations: [],\n    onlineUsers: [],\n};\n\nconst reducer = (state = initState, action) => {\n    switch (action.type) {\n        case friendsActions.SET_PENDING_FRIENDS_INVITATIONS:\n            return {\n                ...state,\n                pendingFriendsInvitations: action.pendingFriendsInvitations,\n            };\n        case friendsActions.SET_FRIENDS:\n            return {\n                ...state,\n                friends: action.friends,\n            };\n        case friendsActions.SET_ONLINE_USERS:\n            return {\n                ...state,\n                onlineUsers: action.onlineUsers,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n","export const chatTypes = {\n  DIRECT: \"DIRECT\",\n  GROUP: \"GROUP\",\n};\n\nexport const chatActions = {\n  SET_CHOSEN_CHAT_DETAILS: \"CHAT.SET_CHOSEN_CHAT_DETAILS\",\n  SET_MESSAGES: \"CHAT.SET_MESSAGES\",\n  SET_CHAT_TYPE: \"CHAT.SET_CHAT_TYPE\",\n};\n\nexport const getActions = (dispatch) => {\n  return {\n    setChosenChatDetails: (details, chatType) =>\n      dispatch(setChosenChatDetails(details, chatType)),\n  };\n};\n\nexport const setChosenChatDetails = (chatDetails, type) => {\n  return {\n    type: chatActions.SET_CHOSEN_CHAT_DETAILS,\n    chatType: type,\n    chatDetails,\n  };\n};\n\nexport const setMessages = (messages) => {\n  return {\n    type: chatActions.SET_MESSAGES,\n    messages,\n  };\n};\n","import { chatActions } from \"../actions/chatActions\";\n\nconst initState = {\n  chosenChatDetails: null,\n  chatType: null,\n  messages: [],\n};\n\nconst reducer = (state = initState, action) => {\n  switch (action.type) {\n    case chatActions.SET_CHOSEN_CHAT_DETAILS:\n      return {\n        ...state,\n        chosenChatDetails: action.chatDetails,\n        chatType: action.chatType,\n        messages: [],\n      };\n    case chatActions.SET_MESSAGES:\n      return {\n        ...state,\n        messages: action.messages,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","export const roomActions = {\n  OPEN_ROOM: \"ROOM.OPEN_ROOM\",\n  SET_ROOM_DETAILS: \"ROOM.SET_ROOM_DETAILS\",\n  SET_ACTIVE_ROOMS: \"ROOM.SET_ACTIVE_ROOMS\",\n  SET_LOCAL_STREAM: \"ROOM.SET_LOCAL_STREAM\",\n  SET_REMOTE_STREAMS: \"ROOM.SET_REMOTE_STREAMS\",\n  SET_AUDIO_ONLY: \"ROOM.SET_AUDIO_ONLY\",\n  SET_SCREEN_SHARE_STREAM: \"ROOM.SET_SCREEN_SHARE_STREAM\",\n  SET_IS_USER_JOINED_WITH_ONLY_AUDIO: \"ROOM.SET_IS_USER_JOINED_WITH_ONLY_AUDIO\",\n};\n\nexport const setOpenRoom = (\n  isUserRoomCreator = false,\n  isUserInRoom = false\n) => {\n  return {\n    type: roomActions.OPEN_ROOM,\n    isUserRoomCreator,\n    isUserInRoom,\n  };\n};\n\nexport const getActions = (dispatch) => {\n  return {\n    setAudioOnly: (audioOnly) => dispatch(setAudioOnly(audioOnly)),\n    setScreenSharingStream: (stream) => {\n      dispatch(setScreenSharingStream(stream));\n    },\n  };\n};\n\nexport const setRoomDetails = (roomDetails) => {\n  return {\n    type: roomActions.SET_ROOM_DETAILS,\n    roomDetails,\n  };\n};\n\nexport const setActiveRooms = (activeRooms) => {\n  return {\n    type: roomActions.SET_ACTIVE_ROOMS,\n    activeRooms,\n  };\n};\n\nexport const setLocalStream = (localStream) => {\n  return {\n    type: roomActions.SET_LOCAL_STREAM,\n    localStream,\n  };\n};\n\nexport const setAudioOnly = (audioOnly) => {\n  return {\n    type: roomActions.SET_AUDIO_ONLY,\n    audioOnly,\n  };\n};\n\nexport const setRemoteStreams = (remoteStreams) => {\n  return {\n    type: roomActions.SET_REMOTE_STREAMS,\n    remoteStreams,\n  };\n};\n\nexport const setScreenSharingStream = (stream) => {\n  return {\n    type: roomActions.SET_SCREEN_SHARE_STREAM,\n    isScreenSharingActive: stream ? true : false,\n    screenSharingStream: stream || null,\n  };\n};\n\nexport const setIsUserJoinedOnlyWithAudio = (onlyWithAudio) => {\n  return {\n    type: roomActions.SET_IS_USER_JOINED_WITH_ONLY_AUDIO,\n    isUserJoinedWithOnlyAudio: onlyWithAudio,\n  };\n};\n","import { roomActions } from \"../actions/roomActions\";\n\nconst initState = {\n  isUserInRoom: false, // if a user is in a particular room then he will not be able to join any other new room\n  isUserRoomCreator: false,\n  roomDetails: null,\n  activeRooms: [],\n  localStream: null,\n  remoteStreams: [],\n  audioOnly: false,\n  screenSharingStream: null,\n  isScreenSharingActive: false,\n  isUserJoinedWithOnlyAudio: false,\n};\n\nconst reducer = (state = initState, action) => {\n  switch (action.type) {\n    case roomActions.OPEN_ROOM:\n      return {\n        ...state,\n        isUserInRoom: action.isUserInRoom,\n        isUserRoomCreator: action.isUserRoomCreator,\n      };\n    case roomActions.SET_ROOM_DETAILS:\n      return {\n        ...state,\n        roomDetails: action.roomDetails,\n      };\n    case roomActions.SET_ACTIVE_ROOMS:\n      return {\n        ...state,\n        activeRooms: action.activeRooms,\n      };\n    case roomActions.SET_LOCAL_STREAM:\n      return {\n        ...state,\n        localStream: action.localStream,\n      };\n    case roomActions.SET_AUDIO_ONLY:\n      return {\n        ...state,\n        audioOnly: action.audioOnly,\n      };\n    case roomActions.SET_REMOTE_STREAMS:\n      return {\n        ...state,\n        remoteStreams: action.remoteStreams,\n      };\n    case roomActions.SET_SCREEN_SHARE_STREAM:\n      return {\n        ...state,\n        screenSharingStream: action.screenSharingStream,\n        isScreenSharingActive: action.isScreenSharingActive,\n      };\n    case roomActions.SET_IS_USER_JOINED_WITH_ONLY_AUDIO:\n      return {\n        ...state,\n        isUserJoinedWithOnlyAudio: action.isUserJoinedWithOnlyAudio,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { composeWithDevTools } from \"redux-devtools-extension\";\nimport { combineReducers, createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport authReducer from \"./reducers/authReducer\";\nimport alertReducer from \"./reducers/alertReducer\";\nimport friendsReducer from \"./reducers/friendsReducer\";\nimport chatReducer from \"./reducers/chatReducer\";\nimport roomReducer from \"./reducers/roomReducer\";\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  alert: alertReducer,\n  friends: friendsReducer,\n  chat: chatReducer,\n  room: roomReducer,\n});\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nexport default store;\n","import store from \"../../store/store\";\nimport { setMessages } from \"../../store/actions/chatActions\";\n\nexport const updateDirectChatHistoryIfActive = (data) => {\n  const { participants, messages } = data;\n\n  // find id of user from token and id from active conversation\n  const receiverId = store.getState().chat.chosenChatDetails?.id;\n  const userId = store.getState().auth.userDetails._id;\n\n  if (receiverId && userId) {\n    const usersInCoversation = [receiverId, userId];\n\n    updateChatHistoryIfSameConversationActive({\n      participants,\n      usersInCoversation,\n      messages,\n    });\n  }\n};\n\nconst updateChatHistoryIfSameConversationActive = ({\n  participants,\n  usersInCoversation,\n  messages,\n}) => {\n  const result = participants.every(function (participantId) {\n    return usersInCoversation.includes(participantId);\n  });\n\n  if (result) {\n    store.dispatch(setMessages(messages));\n  }\n};\n","import store from \"../store/store\";\nimport { setLocalStream, setRemoteStreams } from \"../store/actions/roomActions\";\nimport Peer from \"simple-peer\";\nimport * as socketConnection from \"./socketConnection\";\n\nconst getConfiguration = () => {\n  const turnIceServers = null;\n\n  // we need third party service for turnserver. Use this if you want to deploy\n  if (turnIceServers) {\n    // TODO use TURN server credentials\n  } else {\n    console.warn(\"Using only STUN server\");\n    return {\n      iceServers: [\n        {\n          urls: \"stun:stun.l.google.com:19302\",\n        },\n      ],\n    };\n  }\n};\n\nconst onlyAudioConstraints = {\n  audio: true,\n  video: false,\n};\n\nconst defaultConstraints = {\n  video: true,\n  audio: true,\n};\n\nexport const getLocalStreamPreview = (onlyAudio = false, callbackFunc) => {\n  const constraints = onlyAudio ? onlyAudioConstraints : defaultConstraints;\n\n  // navigation.mediaDevices function is provided by browser\n  navigator.mediaDevices\n    .getUserMedia(constraints)\n    .then((stream) => {\n      store.dispatch(setLocalStream(stream));\n      callbackFunc();\n    })\n    .catch((err) => {\n      console.log(err);\n      console.log(\"Cannot get an access to local stream\");\n    });\n};\n\nlet peers = {};\n\nexport const prepareNewPeerConnection = (connUserSocketId, isInitiator) => {\n  const localStream = store.getState().room.localStream;\n\n  if (isInitiator) {\n    console.log(\"preparing new peer connection as initiator\");\n  } else {\n    console.log(\"preparing new peer connection as not initiator\");\n  }\n\n  peers[connUserSocketId] = new Peer({\n    initiator: isInitiator,\n    config: getConfiguration(),\n    stream: localStream,\n  });\n\n  peers[connUserSocketId].on(\"signal\", (data) => {\n    const signalData = {\n      signal: data,\n      connUserSocketId: connUserSocketId,\n    };\n\n    socketConnection.signalPeerData(signalData);\n  });\n\n  peers[connUserSocketId].on(\"stream\", (remoteStream) => {\n    console.log(\"remote stream came from other user\");\n    console.log(\"direct connection has been established\");\n    remoteStream.connUserSocketId = connUserSocketId;\n    addNewRemoteStream(remoteStream);\n  });\n};\n\nexport const handleSignalingData = (data) => {\n  const { connUserSocketId, signal } = data;\n\n  if (peers[connUserSocketId]) {\n    peers[connUserSocketId].signal(signal);\n  }\n};\n\nconst addNewRemoteStream = (remoteStream) => {\n  const remoteStreams = store.getState().room.remoteStreams;\n  const newRemoteStreams = [...remoteStreams, remoteStream];\n\n  store.dispatch(setRemoteStreams(newRemoteStreams));\n};\n\nexport const closeAllConnections = () => {\n  Object.entries(peers).forEach((mappedObject) => {\n    const connUserSocketId = mappedObject[0];\n    if (peers[connUserSocketId]) {\n      peers[connUserSocketId].destroy();\n      delete peers[connUserSocketId];\n    }\n  });\n};\n\nexport const handleParticipantLeftRoom = (data) => {\n  const { connUserSocketId } = data;\n\n  if (peers[connUserSocketId]) {\n    peers[connUserSocketId].destroy();\n    delete peers[connUserSocketId];\n  }\n\n  const remoteStreams = store.getState().room.remoteStreams;\n\n  const newRemoteStreams = remoteStreams.filter(\n    (remoteStream) => remoteStream.connUserSocketId !== connUserSocketId\n  );\n\n  store.dispatch(setRemoteStreams(newRemoteStreams));\n};\n\nexport const switchOutgoingTracks = (stream) => {\n  for (let socket_id in peers) {\n    for (let index in peers[socket_id].streams[0].getTracks()) {\n      for (let index2 in stream.getTracks()) {\n        if (\n          peers[socket_id].streams[0].getTracks()[index].kind ===\n          stream.getTracks()[index2].kind\n        ) {\n          peers[socket_id].replaceTrack(\n            peers[socket_id].streams[0].getTracks()[index],\n            stream.getTracks()[index2],\n            peers[socket_id].streams[0]\n          );\n          break;\n        }\n      }\n    }\n  }\n};\n","import io from \"socket.io-client\";\nimport {\n  setPendingFriendsInvitations,\n  setFriends,\n  setOnlineUsers,\n} from \"../store/actions/friendsActions\";\nimport { updateDirectChatHistoryIfActive } from \"../shared/utils/chat\";\nimport store from \"../store/store\"; // we can directly use store in non react components. No need to map props to get actions\nimport * as roomHandler from \"./roomHandler\";\nimport * as webRTCHandler from \"./webRTCHandler\";\n\nlet socket = null;\n\nexport const connectWithSocketServer = (userDetails) => {\n  const jwtToken = userDetails.token;\n\n  socket = io(\"http://localhost:5002\", {\n    auth: {\n      token: jwtToken,\n    },\n  });\n\n  // we use 'on' to listen to socket events and 'emit' to send socket events\n\n  // connect is event provided by socket itself\n  socket.on(\"connect\", () => {\n    console.log(\"succesfully connected with socket.io server\");\n    console.log(socket.id);\n  });\n\n  // here we are listening for the custom event that we have created that is friends-invitation\n  socket.on(\"friends-invitations\", (data) => {\n    const { pendingInvitations } = data;\n    store.dispatch(setPendingFriendsInvitations(pendingInvitations));\n  });\n\n  socket.on(\"friends-list\", (data) => {\n    const { friends } = data;\n    store.dispatch(setFriends(friends));\n  });\n\n  socket.on(\"online-users\", (data) => {\n    const { onlineUsers } = data;\n    store.dispatch(setOnlineUsers(onlineUsers));\n  });\n\n  socket.on(\"direct-chat-history\", (data) => {\n    updateDirectChatHistoryIfActive(data);\n  });\n\n  socket.on(\"room-create\", (data) => {\n    roomHandler.newRoomCreated(data);\n  });\n\n  socket.on(\"active-rooms\", (data) => {\n    roomHandler.updateActiveRooms(data);\n  });\n\n  socket.on(\"conn-prepare\", (data) => {\n    const { connUserSocketId } = data;\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, false);\n    socket.emit(\"conn-init\", { connUserSocketId: connUserSocketId });\n  });\n\n  socket.on(\"conn-init\", (data) => {\n    const { connUserSocketId } = data;\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, true);\n  });\n\n  socket.on(\"conn-signal\", (data) => {\n    webRTCHandler.handleSignalingData(data);\n  });\n\n  socket.on(\"room-participant-left\", (data) => {\n    console.log(\"user left room\");\n    webRTCHandler.handleParticipantLeftRoom(data);\n  });\n};\n\n// up until now we are only listening to the socket event but we can also emit the socket event from client side as well as socket provides bidirectional communication\nexport const sendDirectMessage = (data) => {\n  console.log(data);\n  socket.emit(\"direct-message\", data);\n};\n\nexport const getDirectChatHistory = (data) => {\n  socket.emit(\"direct-chat-history\", data);\n};\n\nexport const createNewRoom = () => {\n  socket.emit(\"room-create\");\n};\n\nexport const joinRoom = (data) => {\n  socket.emit(\"room-join\", data);\n};\n\nexport const leaveRoom = (data) => {\n  socket.emit(\"room-leave\", data);\n};\n\nexport const signalPeerData = (data) => {\n  socket.emit(\"conn-signal\", data);\n};\n","import store from \"../store/store\";\nimport {\n  setOpenRoom,\n  setRoomDetails,\n  setActiveRooms,\n  setLocalStream,\n  setRemoteStreams,\n  setScreenSharingStream,\n  setIsUserJoinedOnlyWithAudio,\n} from \"../store/actions/roomActions\";\nimport * as socketConnection from \"./socketConnection\";\nimport * as webRTCHandler from \"./webRTCHandler\";\n\nexport const createNewRoom = () => {\n  // only create room when we successfully get access to local stream(ie audio and video)\n  const successCalbackFunc = () => {\n    store.dispatch(setOpenRoom(true, true));\n\n    const audioOnly = store.getState().room.audioOnly;\n    store.dispatch(setIsUserJoinedOnlyWithAudio(audioOnly));\n    socketConnection.createNewRoom();\n  };\n\n  const audioOnly = store.getState().room.audioOnly;\n  webRTCHandler.getLocalStreamPreview(audioOnly, successCalbackFunc);\n};\n\nexport const newRoomCreated = (data) => {\n  const { roomDetails } = data;\n  store.dispatch(setRoomDetails(roomDetails));\n};\n\nexport const updateActiveRooms = (data) => {\n  const { activeRooms } = data;\n\n  const friends = store.getState().friends.friends;\n  const rooms = [];\n\n  const userId = store.getState().auth.userDetails?._id;\n\n  activeRooms.forEach((room) => {\n    const isRoomCreatedByMe = room.roomCreator.userId === userId;\n\n    if (isRoomCreatedByMe) {\n      rooms.push({ ...room, creatorUsername: \"Me\" });\n    } else {\n      friends.forEach((f) => {\n        if (f.id === room.roomCreator.userId) {\n          rooms.push({ ...room, creatorUsername: f.username });\n        }\n      });\n    }\n  });\n\n  store.dispatch(setActiveRooms(rooms));\n};\n\nexport const joinRoom = (roomId) => {\n  const successCalbackFunc = () => {\n    store.dispatch(setRoomDetails({ roomId }));\n    store.dispatch(setOpenRoom(false, true));\n    const audioOnly = store.getState().room.audioOnly;\n    store.dispatch(setIsUserJoinedOnlyWithAudio(audioOnly));\n    socketConnection.joinRoom({ roomId });\n  };\n\n  const audioOnly = store.getState().room.audioOnly;\n  webRTCHandler.getLocalStreamPreview(audioOnly, successCalbackFunc);\n};\n\nexport const leaveRoom = () => {\n  const roomId = store.getState().room.roomDetails.roomId;\n\n  const localStream = store.getState().room.localStream;\n  if (localStream) {\n    // each audio and video media has tracks property\n    localStream.getTracks().forEach((track) => track.stop());\n    store.dispatch(setLocalStream(null));\n  }\n\n  const screenSharingStream = store.getState().room.screenSharingStream;\n  if (screenSharingStream) {\n    screenSharingStream.getTracks().forEach((track) => track.stop());\n    store.dispatch(setScreenSharingStream(null));\n  }\n\n  store.dispatch(setRemoteStreams([]));\n  webRTCHandler.closeAllConnections();\n\n  socketConnection.leaveRoom({ roomId });\n  store.dispatch(setRoomDetails(null));\n  store.dispatch(setOpenRoom(false, false));\n};\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport * as roomHandler from \"../../realtimeCommunication/roomHandler\"; // since the export in roomHandler is not default export so we have to use {} to access them but using '* and as' we can access then as they are objects\n\nconst CreateRoomButton = ({ isUserInRoom }) => {\n  const createNewRoomHandler = () => {\n    roomHandler.createNewRoom();\n  };\n\n  return (\n    <Button\n      disabled={isUserInRoom}\n      onClick={createNewRoomHandler}\n      style={{\n        width: \"48px\",\n        height: \"48px\",\n        borderRadius: \"16px\",\n        margin: 0,\n        padding: 0,\n        minWidth: 0,\n        marginTop: \"10px\",\n        color: \"white\",\n        backgroundColor: \"#5865F2\",\n      }}\n    >\n      <AddIcon />\n    </Button>\n  );\n};\n\nexport default CreateRoomButton;\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst AvatarPreview = styled(\"div\")({\r\n  height: \"42px\",\r\n  width: \"42px\",\r\n  backgroundColor: \"#5865f2\",\r\n  borderRadius: \"42px\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  fontSize: \"20px\",\r\n  fontWeight: \"700\",\r\n  color: \"white\",\r\n});\r\n\r\nconst Avatar = ({ username, large }) => {\r\n  return (\r\n    <AvatarPreview style={large ? { height: \"80px\", width: \"80px\" } : {}}>\r\n      {/* using first two letters of username */}\r\n      {username.substring(0, 2)}\r\n    </AvatarPreview>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Avatar from \"../../shared/components/Avatar\";\nimport * as roomHandler from \"../../realtimeCommunication/roomHandler\";\n\nconst ActiveRoomButton = ({\n  creatorUsername,\n  roomId,\n  amountOfParticipants,\n  isUserInRoom,\n}) => {\n  const handleJoinActiveRoom = () => {\n    if (amountOfParticipants < 4) {\n      roomHandler.joinRoom(roomId);\n    }\n  };\n\n  const activeRoomButtonDisabled = amountOfParticipants > 3;\n  const roomTitle = `Cretor: ${creatorUsername}. Connected: ${amountOfParticipants}`;\n\n  return (\n    <Tooltip title={roomTitle}>\n      <div>\n        <Button\n          style={{\n            width: \"48px\",\n            height: \"48px\",\n            borderRadius: \"16px\",\n            margin: 0,\n            padding: 0,\n            minWidth: 0,\n            marginTop: \"10px\",\n            color: \"white\",\n            backgroundColor: \"#5865F2\",\n          }}\n          disabled={activeRoomButtonDisabled || isUserInRoom}\n          onClick={handleJoinActiveRoom}\n        >\n          <Avatar username={creatorUsername} />\n        </Button>\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default ActiveRoomButton;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport MainPageButton from \"./MainPageButton\";\nimport CreateRoomButton from \"./CreateRoomButton\";\nimport { connect } from \"react-redux\";\nimport ActiveRoomButton from \"./ActiveRoomButton\";\n\nconst MainContainer = styled(\"div\")({\n  width: \"72px\",\n  height: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  backgroundColor: \"#202225\",\n});\n\nconst SideBar = ({ activeRooms, isUserInRoom }) => {\n  return (\n    <MainContainer>\n      <MainPageButton />\n      <CreateRoomButton isUserInRoom={isUserInRoom} />\n      {activeRooms.map((room) => (\n        <ActiveRoomButton\n          roomId={room.roomId}\n          creatorUsername={room.creatorUsername}\n          amountOfParticipants={room.participants.length}\n          key={room.roomId}\n          isUserInRoom={isUserInRoom}\n        />\n      ))}\n    </MainContainer>\n  );\n};\n\nconst mapStoreStateToProps = ({ room }) => {\n  return {\n    ...room,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(SideBar);\n","import React, { useState, useEffect } from \"react\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport Typography from \"@mui/material/Typography\";\nimport { validateMail } from \"../../shared/utils/validators\";\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\nimport { connect } from \"react-redux\";\nimport { getActions } from \"../../store/actions/friendsActions\";\n\nconst AddFriendDialog = ({\n  isDialogOpen,\n  closeDialogHandler,\n  sendFriendInvitation = () => {},\n}) => {\n  const [mail, setMail] = useState(\"\");\n  const [isFormValid, setIsFormValid] = useState(\"\");\n\n  const handleSendInvitation = () => {\n    sendFriendInvitation(\n      {\n        targetMailAddress: mail,\n      },\n      handleCloseDialog\n    );\n  };\n\n  const handleCloseDialog = () => {\n    closeDialogHandler();\n    setMail(\"\");\n  };\n\n  useEffect(() => {\n    setIsFormValid(validateMail(mail));\n  }, [mail, setIsFormValid]);\n\n  return (\n    <div>\n      <Dialog open={isDialogOpen} onClose={handleCloseDialog}>\n        <DialogTitle>\n          <Typography>Invite a Friend</Typography>\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            <Typography>\n              Enter e-mail address of friend which you would like to invite\n            </Typography>\n          </DialogContentText>\n          <InputWithLabel\n            label=\"Mail\"\n            type=\"text\"\n            value={mail}\n            setValue={setMail}\n            placeholder=\"Enter mail address\"\n          />\n        </DialogContent>\n        <DialogActions>\n          <CustomPrimaryButton\n            onClick={handleSendInvitation}\n            disabled={!isFormValid}\n            label=\"Send\"\n            additionalStyles={{\n              marginLeft: \"15px\",\n              marginRight: \"15px\",\n              marginBottom: \"10px\",\n            }}\n          />\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(null, mapActionsToProps)(AddFriendDialog);\n","import React, { useState } from \"react\";\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\nimport AddFriendDialog from \"./AddFriendDialog\";\n\nconst additionalStyles = {\n  marginTop: \"10px\",\n  marginLeft: \"5px\",\n  width: \"80%\",\n  height: \"30px\",\n  background: \"#3ba55d\",\n};\n\nconst AddFriendButton = () => {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n  const handleOpenAddFriendDialog = () => {\n    setIsDialogOpen(true);\n  };\n\n  const handleCloseAddFriendDialog = () => {\n    setIsDialogOpen(false);\n  };\n\n  return (\n    <>\n      <CustomPrimaryButton\n        additionalStyles={additionalStyles}\n        label=\"Add Friend\"\n        onClick={handleOpenAddFriendDialog}\n      />\n      <AddFriendDialog\n        isDialogOpen={isDialogOpen}\n        closeDialogHandler={handleCloseAddFriendDialog}\n      />\n    </>\n  );\n};\n\nexport default AddFriendButton;\n","import React from \"react\";\nimport { Typography } from \"@mui/material\";\n\nconst FriendsTitle = ({ title }) => {\n  return (\n    <Typography\n      sx={{\n        textTransform: \"uppercase\",\n        color: \"#8e9297\",\n        fontSize: \"14px\",\n        marginTop: \"10px\",\n      }}\n    >\n      {title}\n    </Typography>\n  );\n};\n\nexport default FriendsTitle;\n","import React from \"react\";\nimport { Box } from \"@mui/material\";\nimport FiberManualRecordIcon from \"@mui/icons-material/FiberManualRecord\";\n\nconst OnlineIndicator = () => {\n  return (\n    <Box\n      sx={{\n        color: \"#3ba55d\",\n        display: \"flex\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        right: \"5px\",\n      }}\n    >\n      <FiberManualRecordIcon />\n    </Box>\n  );\n};\n\nexport default OnlineIndicator;\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Avatar from \"../../../shared/components/Avatar\";\nimport Typography from \"@mui/material/Typography\";\nimport OnlineIndicator from \"./OnlineIndicator\";\nimport { chatTypes, getActions } from \"../../../store/actions/chatActions\";\nimport { connect } from \"react-redux\";\n\nconst FriendsListItem = ({ id, username, isOnline, setChosenChatDetails }) => {\n  const handleChooseActiveConversation = () => {\n    setChosenChatDetails({ id: id, name: username }, chatTypes.DIRECT);\n  };\n\n  return (\n    <Button\n      onClick={handleChooseActiveConversation}\n      style={{\n        width: \"100%\",\n        height: \"42px\",\n        marginTop: \"10px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        textTransform: \"none\",\n        color: \"black\",\n        position: \"relative\",\n      }}\n    >\n      <Avatar username={username} />\n      <Typography\n        style={{\n          marginLeft: \"7px\",\n          fontWeight: 700,\n          color: \"#8e9297\",\n        }}\n        variant=\"subtitle1\"\n        align=\"left\"\n      >\n        {username}\n      </Typography>\n      {isOnline && <OnlineIndicator />}\n    </Button>\n  );\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(null, mapActionsToProps)(FriendsListItem);\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport FriendsListItem from \"./FriendsListItem\";\nimport { connect } from \"react-redux\";\n\nconst MainContainer = styled(\"div\")({\n  flexGrow: 1,\n  width: \"100%\",\n});\n\nconst checkOnlineUsers = (friends = [], onlineUsers = []) => {\n  friends.forEach((f) => {\n    // for every online user we are considering only those who are our friends. And if our friends is among the online user then we show online status for that friend\n    const isUserOnline = onlineUsers.find((user) => user.userId === f.id);\n    f.isOnline = isUserOnline ? true : false;\n  });\n\n  return friends;\n};\n\n// we do not call an api to fetch the friends but rather listen to socket event to get the data as it will give the relative friends according to the online user from their userId\nconst FriendsList = ({ friends, onlineUsers }) => {\n  return (\n    <MainContainer>\n      {checkOnlineUsers(friends, onlineUsers).map((f) => (\n        <FriendsListItem\n          username={f.username}\n          id={f.id}\n          key={f.id}\n          isOnline={f.isOnline}\n        />\n      ))}\n    </MainContainer>\n  );\n};\n\nconst mapStoreStateToProps = ({ friends }) => {\n  return {\n    ...friends,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(FriendsList);\n","import React from \"react\";\nimport CheckIcon from \"@mui/icons-material/Check\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport Box from \"@mui/material/Box\";\nimport IconButton from \"@mui/material/IconButton\";\n\nconst InvitationDecisionButtons = ({\n  disabled,\n  acceptInvitationHandler,\n  rejectInvitationHandler,\n}) => {\n  return (\n    <Box sx={{ display: \"flex\" }}>\n      <IconButton\n        style={{ color: \"white\" }}\n        disabled={disabled}\n        onClick={acceptInvitationHandler}\n      >\n        <CheckIcon />\n      </IconButton>\n      <IconButton\n        style={{ color: \"white\" }}\n        disabled={disabled}\n        onClick={rejectInvitationHandler}\n      >\n        <ClearIcon />\n      </IconButton>\n    </Box>\n  );\n};\n\nexport default InvitationDecisionButtons;\n","import React, { useState } from \"react\";\nimport { Tooltip, Typography, Box } from \"@mui/material\";\nimport Avatar from \"../../../shared/components/Avatar\";\nimport InvitationDecisionButtons from \"./InvitationDecisionButtons\";\nimport { connect } from \"react-redux\";\nimport { getActions } from \"../../../store/actions/friendsActions\";\n\nconst PendingInvitationsListItem = ({\n  id,\n  username,\n  mail,\n  acceptFriendInvitation = () => {},\n  rejectFriendInvitation = () => {},\n}) => {\n  const [buttonsDisabled, setButtonsDisabled] = useState(false);\n\n  const handleAcceptInvitation = () => {\n    acceptFriendInvitation({ id });\n    setButtonsDisabled(true); // disabling to prevent user from clicking on the button multiple times\n  };\n\n  const handleRejectInvitation = () => {\n    rejectFriendInvitation({ id });\n    setButtonsDisabled(true);\n  };\n\n  return (\n    <Tooltip title={mail}>\n      <div style={{ width: \"100%\" }}>\n        <Box\n          sx={{\n            width: \"100%\",\n            height: \"42px\",\n            marginTop: \"10px\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <Avatar username={username} />\n          <Typography\n            sx={{\n              marginLeft: \"7px\",\n              fontWeight: 700,\n              color: \"#8e9297\",\n              flexGrow: 1,\n            }}\n            variant=\"subtitle1\"\n          >\n            {username}\n          </Typography>\n          <InvitationDecisionButtons\n            disabled={buttonsDisabled}\n            acceptInvitationHandler={handleAcceptInvitation}\n            rejectInvitationHandler={handleRejectInvitation}\n          />\n        </Box>\n      </div>\n    </Tooltip>\n  );\n};\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(null, mapActionsToProps)(PendingInvitationsListItem);\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport PendingInvitationsListItem from \"./PendingInvitationsListItem\";\nimport { connect } from \"react-redux\";\n\nconst MainContainer = styled(\"div\")({\n  width: \"100%\",\n  height: \"22%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  overflow: \"auto\",\n});\n\nconst PendingInvitationsList = ({ pendingFriendsInvitations }) => {\n  return (\n    <MainContainer>\n      {pendingFriendsInvitations.map((invitation) => (\n        <PendingInvitationsListItem\n          key={invitation._id}\n          id={invitation._id}\n          username={invitation.senderId.username}\n          mail={invitation.senderId.mail}\n        />\n      ))}\n    </MainContainer>\n  );\n};\n\nconst mapStoreStateToProps = ({ friends }) => {\n  return {\n    ...friends, // all of the states of friends reducers will be available as a props to the component\n  };\n};\n\nexport default connect(mapStoreStateToProps)(PendingInvitationsList);\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport AddFriendButton from \"./AddFriendButton\";\nimport FriendsTitle from \"./FriendsTitle\";\nimport FriendsList from \"./FriendsList/FriendsList\";\nimport PendingInvitationsList from \"./PendingInvitationsList/PendingInvitationsList\";\n\nconst MainContainer = styled(\"div\")({\n  width: \"224px\",\n  height: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  backgroundColor: \"#2F3136\",\n});\n\nconst FriendsSideBar = () => {\n  return (\n    <MainContainer>\n      <AddFriendButton />\n      <FriendsTitle title=\"Private Messages\" />\n      <FriendsList />\n      <FriendsTitle title=\"Invitations\" />\n      <PendingInvitationsList />\n    </MainContainer>\n  );\n};\n\nexport default FriendsSideBar;\n","import React from \"react\";\nimport { Typography } from \"@mui/material\";\nimport { styled } from \"@mui/system\";\n\nconst Wrapper = styled(\"div\")({\n  flexGrow: 1,\n  height: \"100%\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n});\n\nconst WelcomeMessage = () => {\n  return (\n    <Wrapper>\n      <Typography variant=\"h6\" sx={{ color: \"white\" }}>\n        To start chatting - choose conversation\n      </Typography>\n    </Wrapper>\n  );\n};\n\nexport default WelcomeMessage;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport Avatar from \"../../../shared/components/Avatar\";\nimport Typography from \"@mui/material/Typography\";\n\nconst MainContainer = styled(\"div\")({\n  width: \"98%\",\n  display: \"column\",\n  marginTop: \"10px\",\n});\n\nconst MessagesHeader = ({ name = \"\" }) => {\n  return (\n    <MainContainer>\n      <Avatar large username={name} />\n      <Typography\n        variant=\"h4\"\n        sx={{\n          fontWeight: \"bold\",\n          color: \"white\",\n          marginLeft: \"5px\",\n          marginRight: \"5px\",\n        }}\n      >\n        {name}\n      </Typography>\n      <Typography\n        sx={{\n          color: \"#b9bbbe\",\n          marginLeft: \"5px\",\n          marginRight: \"5px\",\n        }}\n      >\n        This is the beginning of your conversation with {name}\n      </Typography>\n    </MainContainer>\n  );\n};\n\nexport default MessagesHeader;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport Avatar from \"../../../shared/components/Avatar\";\nimport Typography from \"@mui/material/Typography\";\n\nconst MainContainer = styled(\"div\")({\n  width: \"97%\",\n  display: \"flex\",\n  marginTop: \"10px\",\n});\n\nconst AvatarContainer = styled(\"div\")({\n  width: \"70px\",\n});\n\nconst MessageContainer = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"column\",\n});\n\nconst MessageContent = styled(\"div\")({\n  color: \"#DCDDDE\",\n});\n\nconst SameAuthorMessageContent = styled(\"div\")({\n  color: \"#DCDDDE\",\n  width: \"97%\",\n});\n\nconst SameAuthorMessageText = styled(\"span\")({\n  marginLeft: \"70px\",\n});\n\nconst Message = ({ content, sameAuthor, username, date, sameDay }) => {\n  if (sameAuthor && sameDay) {\n    return (\n      <SameAuthorMessageContent>\n        <SameAuthorMessageText>{content}</SameAuthorMessageText>\n      </SameAuthorMessageContent>\n    );\n  }\n\n  return (\n    <MainContainer>\n      <AvatarContainer>\n        <Avatar username={username} />\n      </AvatarContainer>\n      <MessageContainer>\n        <Typography style={{ fontSize: \"16px\", color: \"white\" }}>\n          {username}{\" \"}\n          <span style={{ fontSize: \"12px\", color: \"#72767d\" }}>{date}</span>\n        </Typography>\n        <MessageContent>{content}</MessageContent>\n      </MessageContainer>\n    </MainContainer>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\n\nconst Separator = styled(\"div\")({\n  width: \"95%\",\n  backgroundColor: \"#b9bbbe\",\n  height: \"1px\",\n  position: \"relative\",\n  marginTop: \"20px\",\n  marginBottom: \"10px\",\n});\n\nconst DateLabel = styled(\"span\")({\n  backgroundColor: \"#36393f\",\n  position: \"absolute\",\n  left: \"45%\",\n  top: \"-10px\",\n  color: \"#b9bbbe\",\n  padding: \"0 5px\",\n  fontSize: \"14px\",\n});\n\nconst DateSeparator = ({ date }) => {\n  return (\n    <Separator>\n      <DateLabel>{date}</DateLabel>\n    </Separator>\n  );\n};\n\nexport default DateSeparator;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport MessagesHeader from \"./MessagesHeader\";\nimport { connect } from \"react-redux\";\n// import DUMMY_MESSAGES from \"./DUMMY_MESSAGES\";\nimport Message from \"./Message\";\nimport DateSeparator from \"./DateSeparator\";\n\nconst MainContainer = styled(\"div\")({\n  height: \"calc(100% - 60px)\",\n  overflow: \"auto\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n});\n\nconst convertDateToHumanReadable = (date, format) => {\n  const map = {\n    mm: date.getMonth() + 1,\n    dd: date.getDate(),\n    yy: date.getFullYear().toString().slice(-2),\n    yyyy: date.getFullYear(),\n  };\n\n  return format.replace(/mm|dd|yy|yyy/gi, (matched) => map[matched]); // here for every matched format(ie for mm) from regular expression we map the suitable format from the map function(ie for mm we add 1 so that first month is represented by 1 instead of 0)\n};\n\nconst Messages = ({ chosenChatDetails, messages }) => {\n  return (\n    <MainContainer>\n      <MessagesHeader name={chosenChatDetails?.name} />\n      {messages.map((message, index) => {\n        const sameAuthor =\n          index > 0 && // we compare second message(index will be 1) with first message(index will be 0)\n          messages[index].author._id === messages[index - 1].author._id;\n\n        const sameDay =\n          index > 0 &&\n          convertDateToHumanReadable(new Date(message.date), \"dd/mm/yy\") ===\n            convertDateToHumanReadable(\n              new Date(messages[index - 1].date),\n              \"dd/mm/yy\"\n            );\n\n        return (\n          <div key={message._id} style={{ width: \"97%\" }}>\n            {(!sameDay || index === 0) && ( // index === 0 is for first message\n              <DateSeparator\n                date={convertDateToHumanReadable(\n                  new Date(message.date),\n                  \"dd/mm/yy\"\n                )}\n              />\n            )}\n            <Message\n              key={message._id}\n              content={message.content}\n              username={message.author.username}\n              sameAuthor={sameAuthor} // so that in UI we donot show two same avatar if the consecutive message is from the same user\n              date={convertDateToHumanReadable(\n                new Date(message.date),\n                \"dd/mm/yy\"\n              )}\n              sameDay={sameDay}\n            />\n          </div>\n        );\n      })}\n    </MainContainer>\n  );\n};\n\nconst mapStoreStateToProps = ({ chat }) => {\n  return {\n    ...chat,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(Messages);\n","import React, { useState } from \"react\";\nimport { styled } from \"@mui/system\";\nimport { connect } from \"react-redux\";\nimport { sendDirectMessage } from \"../../realtimeCommunication/socketConnection\";\n\nconst MainContainer = styled(\"div\")({\n  height: \"60px\",\n  width: \"100%\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n});\n\nconst Input = styled(\"input\")({\n  backgroundColor: \"#2f3136\",\n  width: \"98%\",\n  height: \"44px\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"8px\",\n  fontSize: \"14px\",\n  padding: \"0 10px\",\n});\n\nconst NewMessageInput = ({ chosenChatDetails }) => {\n  const [message, setMessage] = useState(\"\");\n\n  const handleMessageValueChange = (event) => {\n    setMessage(event.target.value);\n  };\n\n  const handleKeyPressed = (event) => {\n    if (event.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n\n  const handleSendMessage = () => {\n    if (message.length > 0) {\n      sendDirectMessage({\n        receiverUserId: chosenChatDetails.id,\n        content: message,\n      });\n      setMessage(\"\");\n    }\n  };\n\n  return (\n    <MainContainer>\n      <Input\n        placeholder={`Write message to ${chosenChatDetails.name}`}\n        value={message}\n        onChange={handleMessageValueChange}\n        onKeyDown={handleKeyPressed}\n      />\n    </MainContainer>\n  );\n};\n\nconst mapStoreStateToProps = ({ chat }) => {\n  return {\n    ...chat,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(NewMessageInput);\n","import React, { useEffect } from \"react\";\nimport { styled } from \"@mui/system\";\nimport Messages from \"./Messages/Messages\";\nimport NewMessageInput from \"./NewMessageInput\";\nimport { getDirectChatHistory } from \"../../realtimeCommunication/socketConnection\";\n\nconst Wrapper = styled(\"div\")({\n  flexGrow: 1,\n});\n\nconst MessengerContent = ({ chosenChatDetails }) => {\n  useEffect(() => {\n    getDirectChatHistory({\n      receiverUserId: chosenChatDetails.id,\n    });\n  }, [chosenChatDetails]);\n\n  return (\n    <Wrapper>\n      <Messages />\n      <NewMessageInput />\n    </Wrapper>\n  );\n};\n\nexport default MessengerContent;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport { connect } from \"react-redux\";\nimport WelcomeMessage from \"./WelcomeMessage\";\nimport MessengerContent from \"./MessengerContent\";\n\nconst MainContainer = styled(\"div\")({\n  flexGrow: 1,\n  backgroundColor: \"#36393f\",\n  marginTop: \"48px\",\n  display: \"flex\",\n});\n\nconst Messenger = ({ chosenChatDetails }) => {\n  return (\n    <MainContainer>\n      {!chosenChatDetails ? (\n        <WelcomeMessage />\n      ) : (\n        <MessengerContent chosenChatDetails={chosenChatDetails} />\n      )}\n    </MainContainer>\n  );\n};\n\nconst mapStoreStateToProps = ({ chat }) => {\n  return {\n    ...chat,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(Messenger);\n","import * as React from \"react\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport { IconButton } from \"@mui/material\";\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\nimport { logout } from \"../../shared/utils/auth\";\nimport { getActions } from \"../../store/actions/roomActions\";\nimport { connect } from \"react-redux\";\n\nconst BasicMenu = ({ audioOnly, setAudioOnly }) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleAudioOnlyChange = () => {\n    setAudioOnly(!audioOnly);\n  };\n\n  return (\n    <div>\n      <IconButton onClick={handleMenuOpen} style={{ color: \"white\" }}>\n        <MoreVertIcon />\n      </IconButton>\n      <Menu\n        id=\"basic-menu\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleMenuClose}\n        MenuListProps={{\n          \"aria-labelledby\": \"basic-button\",\n        }}\n      >\n        <MenuItem onClick={logout}>Logout</MenuItem>\n        <MenuItem onClick={handleAudioOnlyChange}>\n          {audioOnly ? \"Audio Only Enabled\" : \"Audio Only Disabled\"}\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = ({ room }) => {\n  return {\n    ...room,\n  };\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(mapStoreStateToProps, mapActionsToProps)(BasicMenu);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Typography } from \"@mui/material\";\n\nconst ChosenOptionLabel = ({ name }) => {\n  return (\n    <Typography\n      sx={{ fontSize: \"16px\", color: \"white\", fontWeight: \"bold\" }}\n    >{`${name ? `Chosen conversation: ${name}` : \"\"}`}</Typography>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    name: state.chat.chosenChatDetails?.name,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(ChosenOptionLabel);\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport DropdownMenu from \"./DropdownMenu\";\nimport ChosenOptionLabel from \"./ChosenOptionLabel\";\n\nconst MainContainer = styled(\"div\")({\n  position: \"absolute\",\n  right: \"0\",\n  top: \"0\",\n  height: \"48px\",\n  borderBottom: \"1px solid black\",\n  backgroundColor: \"#36393f\",\n  width: \"calc(100% - 326px)\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"space-between\",\n  padding: \"0 15px\",\n});\n\nconst AppBar = () => {\n  return (\n    <MainContainer>\n      <ChosenOptionLabel />\n      <DropdownMenu />\n    </MainContainer>\n  );\n};\n\nexport default AppBar;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CloseFullscreenIcon from \"@mui/icons-material/CloseFullscreen\";\nimport OpenInFullIcon from \"@mui/icons-material/OpenInFull\";\n\nconst MainContainer = styled(\"div\")({\n  position: \"absolute\",\n  bottom: \"10px\",\n  right: \"10px\",\n});\n\nconst ResizeRoomButton = ({ isRoomMinimized, handleRoomResize }) => {\n  return (\n    <MainContainer>\n      <IconButton style={{ color: \"white\" }} onClick={handleRoomResize}>\n        {isRoomMinimized ? <OpenInFullIcon /> : <CloseFullscreenIcon />}\n      </IconButton>\n    </MainContainer>\n  );\n};\n\nexport default ResizeRoomButton;\n","import React, { useEffect, useRef } from \"react\";\nimport { styled } from \"@mui/system\";\n\nconst MainContainer = styled(\"div\")({\n  height: \"50%\",\n  width: \"50%\",\n  backgroundColor: \"black\",\n  borderRadius: \"8px\",\n});\n\nconst VideoEl = styled(\"video\")({\n  width: \"100%\",\n  height: \"100%\",\n});\n\nconst Video = ({ stream, isLocalStream }) => {\n  const videoRef = useRef();\n\n  useEffect(() => {\n    const video = videoRef.current;\n    video.srcObject = stream;\n\n    // this is needed for some browser lile firefox to play the video\n    video.onloadedmetadata = () => {\n      video.play();\n    };\n  }, [stream]);\n\n  return (\n    <MainContainer>\n      {/* isLocalStream if for checking if the stream is of ourself coz we don't want to hear ourself */}\n      <VideoEl ref={videoRef} autoPlay muted={isLocalStream ? true : false} />\n    </MainContainer>\n  );\n};\n\nexport default Video;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport { connect } from \"react-redux\";\nimport Video from \"./Video\";\n\nconst MainContainer = styled(\"div\")({\n  height: \"85%\",\n  width: \"100%\",\n  display: \"flex\",\n  flexWrap: \"wrap\", // as the number of user increse the video will be moved on next line\n});\n\nconst VideosContainer = ({\n  localStream,\n  remoteStreams,\n  screenSharingStream,\n}) => {\n  return (\n    <MainContainer>\n      <Video\n        stream={screenSharingStream ? screenSharingStream : localStream}\n        isLocalStream\n      />\n      {remoteStreams.map((stream) => (\n        <Video stream={stream} key={stream.id} />\n      ))}\n    </MainContainer>\n  );\n};\n\nconst mapStoreStateToProps = ({ room }) => {\n  return {\n    ...room,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(VideosContainer);\n","import React, { useState } from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport VideocamIcon from \"@mui/icons-material/Videocam\";\nimport VideocamOffIcon from \"@mui/icons-material/VideocamOff\";\n\nconst CameraButton = ({ localStream }) => {\n  const [cameraEnabled, setCameraEnabled] = useState(true);\n\n  const handleToggleCamera = () => {\n    localStream.getVideoTracks()[0].enabled = !cameraEnabled;\n    setCameraEnabled(!cameraEnabled);\n  };\n\n  return (\n    <IconButton onClick={handleToggleCamera} style={{ color: \"white\" }}>\n      {cameraEnabled ? <VideocamIcon /> : <VideocamOffIcon />}\n    </IconButton>\n  );\n};\n\nexport default CameraButton;\n","import React, { useState } from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport MicIcon from \"@mui/icons-material/Mic\";\nimport MicOffIcon from \"@mui/icons-material/MicOff\";\n\nconst MicButton = ({ localStream }) => {\n  const [micEnabled, setMicEnabled] = useState(true);\n\n  const handleToggleMic = () => {\n    localStream.getAudioTracks()[0].enabled = !micEnabled;\n    setMicEnabled(!micEnabled);\n  };\n\n  return (\n    <IconButton onClick={handleToggleMic} style={{ color: \"white\" }}>\n      {micEnabled ? <MicIcon /> : <MicOffIcon />}\n    </IconButton>\n  );\n};\n\nexport default MicButton;\n","import React from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport * as roomHandler from \"../../../realtimeCommunication/roomHandler\";\n\nconst CloseRoomButton = () => {\n  const handleLeaveRoom = () => {\n    roomHandler.leaveRoom();\n  };\n\n  return (\n    <IconButton onClick={handleLeaveRoom} style={{ color: \"white\" }}>\n      <CloseIcon />\n    </IconButton>\n  );\n};\n\nexport default CloseRoomButton;\n","import React from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport ScreenShareIcon from \"@mui/icons-material/ScreenShare\";\nimport StopScreenShareIcon from \"@mui/icons-material/StopScreenShare\";\nimport * as webRTCHandler from \"../../../realtimeCommunication/webRTCHandler\";\n\nconst constraints = {\n  audio: false,\n  video: true,\n};\n\nconst ScreenShareButton = ({\n  localStream,\n  screenSharingStream,\n  setScreenSharingStream,\n  isScreenSharingActive,\n}) => {\n  const handleScreenShareToggle = async () => {\n    if (!isScreenSharingActive) {\n      let stream = null;\n      try {\n        stream = await navigator.mediaDevices.getDisplayMedia(constraints);\n      } catch (err) {\n        console.log(\n          \"error occured when trying to get an access to screen share stream\"\n        );\n      }\n\n      if (stream) {\n        setScreenSharingStream(stream);\n        webRTCHandler.switchOutgoingTracks(stream);\n      }\n    } else {\n      // here the logic is for stopping screen sharing\n      webRTCHandler.switchOutgoingTracks(localStream);\n      screenSharingStream.getTracks().forEach((t) => t.stop());\n      setScreenSharingStream(null);\n    }\n  };\n\n  return (\n    <IconButton onClick={handleScreenShareToggle} style={{ color: \"white\" }}>\n      {isScreenSharingActive ? <StopScreenShareIcon /> : <ScreenShareIcon />}\n    </IconButton>\n  );\n};\n\nexport default ScreenShareButton;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport CameraButton from \"./CameraButton\";\nimport MicButton from \"./MicButton\";\nimport CloseRoomButton from \"./CloseRoomButton\";\nimport ScreenShareButton from \"./ScreenShareButton\";\nimport { connect } from \"react-redux\";\nimport { getActions } from \"../../../store/actions/roomActions\";\n\nconst MainContainer = styled(\"div\")({\n  height: \"15%\",\n  width: \"100%\",\n  backgroundColor: \"#5865f2\",\n  borderTopLeftRadius: \"8px\",\n  borderTopRightRadius: \"8px\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n});\n\nconst RoomButtons = (props) => {\n  const { localStream, isUserJoinedWithOnlyAudio } = props;\n\n  return (\n    <MainContainer>\n      {!isUserJoinedWithOnlyAudio && <ScreenShareButton {...props} />}\n      <MicButton localStream={localStream} />\n      <CloseRoomButton />\n      {!isUserJoinedWithOnlyAudio && <CameraButton localStream={localStream} />}\n    </MainContainer>\n  );\n};\n\nconst mapStoreStateToProps = ({ room }) => {\n  return {\n    ...room,\n  };\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(mapStoreStateToProps, mapActionsToProps)(RoomButtons);\n","import React, { useState } from \"react\";\nimport { styled } from \"@mui/system\";\nimport ResizeRoomButton from \"./ResizeRoomButton\";\nimport VideosContainer from \"./VideosContainer\";\n// import RoomButtons from \"./RoomButtons/RoomButtons\";\nimport RoomButtons from \"./RoomButtons/RoomButtons\";\n\nconst MainContainer = styled(\"div\")({\n  position: \"absolute\",\n  borderRadius: \"8px\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  backgroundColor: \"#202225\",\n});\n\nconst fullScreenRoomStyle = {\n  width: \"100%\",\n  height: \"100vh\",\n};\n\nconst minimizedRoomStyle = {\n  bottom: \"0px\",\n  right: \"0px\",\n  width: \"30%\",\n  height: \"40vh\",\n};\n\nconst Room = () => {\n  const [isRoomMinimized, setIsRoomMinimized] = useState(true);\n\n  const roomResizeHandler = () => {\n    setIsRoomMinimized(!isRoomMinimized);\n  };\n\n  return (\n    <MainContainer\n      style={isRoomMinimized ? minimizedRoomStyle : fullScreenRoomStyle}\n    >\n      <VideosContainer />\n      <RoomButtons />\n      <ResizeRoomButton\n        isRoomMinimized={isRoomMinimized}\n        handleRoomResize={roomResizeHandler}\n      />\n    </MainContainer>\n  );\n};\n\nexport default Room;\n","import React, { useEffect } from \"react\";\nimport { styled } from \"@mui/system\";\nimport SideBar from \"./SideBar/SideBar\";\nimport FriendsSideBar from \"./FriendsSideBar/FriendsSideBar\";\nimport Messenger from \"./Messenger/Messenger\";\nimport AppBar from \"./AppBar/AppBar\";\nimport Room from \"./Room/Room\";\nimport { logout } from \"../shared/utils/auth\";\nimport { connect } from \"react-redux\";\nimport { getActions } from \"../store/actions/authActions\";\nimport { connectWithSocketServer } from \"../realtimeCommunication/socketConnection\";\n\nconst Wrapper = styled(\"div\")({\n  width: \"100%\",\n  height: \"100vh\",\n  display: \"flex\",\n});\n\n// in connect style actions are received as props\nconst Dashboard = ({ setUserDetails, isUserInRoom }) => {\n  useEffect(() => {\n    const userDetails = localStorage.getItem(\"user\");\n\n    if (!userDetails) {\n      logout();\n    } else {\n      setUserDetails(JSON.parse(userDetails));\n      connectWithSocketServer(JSON.parse(userDetails));\n    }\n  }, [setUserDetails]);\n\n  return (\n    <Wrapper>\n      <SideBar />\n      <FriendsSideBar />\n      <Messenger />\n      <AppBar />\n      {isUserInRoom && <Room />}\n    </Wrapper>\n  );\n};\n\nconst mapStoreStateToProps = ({ room }) => {\n  return {\n    ...room,\n  };\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(mapStoreStateToProps, mapActionsToProps)(Dashboard);\n","import React from \"react\";\nimport Alert from \"@mui/material/Alert\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport { connect } from \"react-redux\";\nimport { getActions } from \"../../store/actions/alertActions\";\n\nconst AlertNotification = ({\n  showAlertMessage,\n  closeAlertMessage,\n  alertMessageContent,\n}) => {\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n      open={showAlertMessage}\n      onClose={closeAlertMessage}\n      autoHideDuration={6000}\n    >\n      <Alert severity=\"info\">{alertMessageContent}</Alert>\n    </Snackbar>\n  );\n};\n\n// auto exposes the state as props\n// const mapStoreStateToProps = (state) => {\n//   return {\n//     ...state.alert,\n//   };\n// };\n\nconst mapStoreStateToProps = ({ alert }) => {\n  return {\n    ...alert,\n  };\n};\n\n// connect gives the dispatch as props\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(\n  mapStoreStateToProps,\n  mapActionsToProps\n)(AlertNotification);\n","import React from \"react\";\nimport \"./App.css\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport LoginPage from \"./authPages/LoginPage/LoginPage\";\nimport RegisterPage from \"./authPages/RegisterPage/RegisterPage\";\nimport Dashboard from \"./Dashboard/Dashboard\";\nimport AlertNotification from \"./shared/components/AlertNotification\";\n\nfunction App() {\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route exact path=\"/login\">\n            <LoginPage />\n          </Route>\n          <Route exact path=\"/register\">\n            <RegisterPage />\n          </Route>\n          <Route exact path=\"/dashboard\">\n            <Dashboard />\n          </Route>\n          <Route path=\"/\">\n            <Redirect to=\"/dashboard\" />\n          </Route>\n        </Switch>\n      </Router>\n      <AlertNotification />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}