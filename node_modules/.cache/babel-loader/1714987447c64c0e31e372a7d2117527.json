{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pavankoushik/Downloads/mern-discord-clone/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/pavankoushik/Downloads/mern-discord-clone/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{openAlertMessage}from\"./alertActions\";import*as api from\"../../api\";export var friendsActions={SET_FRIENDS:\"FRIENDS.SET_FRIENDS\",SET_PENDING_FRIENDS_INVITATIONS:\"FRIENDS.SET_PENDING_FRIENDS_INVITATIONS\",SET_ONLINE_USERS:\"FRIENDS.SET_ONLINE_USERS\"};export var getActions=function getActions(dispatch){return{sendFriendInvitation:function sendFriendInvitation(data,closeDialogHandler){return dispatch(_sendFriendInvitation(data,closeDialogHandler));},acceptFriendInvitation:function acceptFriendInvitation(data){return dispatch(_acceptFriendInvitation(data));},rejectFriendInvitation:function rejectFriendInvitation(data){return dispatch(_rejectFriendInvitation(data));}};};export var setPendingFriendsInvitations=function setPendingFriendsInvitations(pendingFriendsInvitations){return{type:friendsActions.SET_PENDING_FRIENDS_INVITATIONS,pendingFriendsInvitations:pendingFriendsInvitations};};export var setFriends=function setFriends(friends){return{type:friendsActions.SET_FRIENDS,friends:friends};};export var setOnlineUsers=function setOnlineUsers(onlineUsers){return{type:friendsActions.SET_ONLINE_USERS,onlineUsers:onlineUsers};};var _sendFriendInvitation=function _sendFriendInvitation(data,closeDialogHandler){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response,_response$exception,_response$exception$r;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.sendFriendInvitation(data);case 2:response=_context.sent;if(response.error){dispatch(openAlertMessage((_response$exception=response.exception)===null||_response$exception===void 0?void 0:(_response$exception$r=_response$exception.response)===null||_response$exception$r===void 0?void 0:_response$exception$r.data));}else{dispatch(openAlertMessage(\"Invitation has been sent!\"));closeDialogHandler();// only closes the dialog for success and will keep dialogue on if there is error so that user can rectify the error\n}case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};var _acceptFriendInvitation=function _acceptFriendInvitation(data){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response,_response$exception2,_response$exception2$;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.acceptFriendInvitation(data);case 2:response=_context2.sent;if(response.error){dispatch(openAlertMessage((_response$exception2=response.exception)===null||_response$exception2===void 0?void 0:(_response$exception2$=_response$exception2.response)===null||_response$exception2$===void 0?void 0:_response$exception2$.data));}else{dispatch(openAlertMessage(\"Invitation accepted!\"));}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};var _rejectFriendInvitation=function _rejectFriendInvitation(data){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var response,_response$exception3,_response$exception3$;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.rejectFriendInvitation(data);case 2:response=_context3.sent;if(response.error){dispatch(openAlertMessage((_response$exception3=response.exception)===null||_response$exception3===void 0?void 0:(_response$exception3$=_response$exception3.response)===null||_response$exception3$===void 0?void 0:_response$exception3$.data));}else{dispatch(openAlertMessage(\"Invitation rejected!\"));}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["openAlertMessage","api","friendsActions","SET_FRIENDS","SET_PENDING_FRIENDS_INVITATIONS","SET_ONLINE_USERS","getActions","dispatch","sendFriendInvitation","data","closeDialogHandler","acceptFriendInvitation","rejectFriendInvitation","setPendingFriendsInvitations","pendingFriendsInvitations","type","setFriends","friends","setOnlineUsers","onlineUsers","response","error","exception"],"sources":["/Users/pavankoushik/Downloads/mern-discord-clone/frontend/src/store/actions/friendsActions.js"],"sourcesContent":["import { openAlertMessage } from \"./alertActions\";\nimport * as api from \"../../api\";\n\nexport const friendsActions = {\n  SET_FRIENDS: \"FRIENDS.SET_FRIENDS\",\n  SET_PENDING_FRIENDS_INVITATIONS: \"FRIENDS.SET_PENDING_FRIENDS_INVITATIONS\",\n  SET_ONLINE_USERS: \"FRIENDS.SET_ONLINE_USERS\",\n};\n\nexport const getActions = (dispatch) => {\n  return {\n    sendFriendInvitation: (data, closeDialogHandler) =>\n      dispatch(sendFriendInvitation(data, closeDialogHandler)),\n    acceptFriendInvitation: (data) => dispatch(acceptFriendInvitation(data)),\n    rejectFriendInvitation: (data) => dispatch(rejectFriendInvitation(data)),\n  };\n};\n\nexport const setPendingFriendsInvitations = (pendingFriendsInvitations) => {\n  return {\n    type: friendsActions.SET_PENDING_FRIENDS_INVITATIONS,\n    pendingFriendsInvitations,\n  };\n};\n\nexport const setFriends = (friends) => {\n  return {\n    type: friendsActions.SET_FRIENDS,\n    friends,\n  };\n};\n\nexport const setOnlineUsers = (onlineUsers) => {\n  return {\n    type: friendsActions.SET_ONLINE_USERS,\n    onlineUsers,\n  };\n};\n\nconst sendFriendInvitation = (data, closeDialogHandler) => {\n  return async (dispatch) => {\n    const response = await api.sendFriendInvitation(data);\n\n    if (response.error) {\n      dispatch(openAlertMessage(response.exception?.response?.data));\n    } else {\n      dispatch(openAlertMessage(\"Invitation has been sent!\"));\n      closeDialogHandler(); // only closes the dialog for success and will keep dialogue on if there is error so that user can rectify the error\n    }\n  };\n};\n\nconst acceptFriendInvitation = (data) => {\n  return async (dispatch) => {\n    const response = await api.acceptFriendInvitation(data);\n\n    if (response.error) {\n      dispatch(openAlertMessage(response.exception?.response?.data));\n    } else {\n      dispatch(openAlertMessage(\"Invitation accepted!\"));\n    }\n  };\n};\n\nconst rejectFriendInvitation = (data) => {\n  return async (dispatch) => {\n    const response = await api.rejectFriendInvitation(data);\n\n    if (response.error) {\n      dispatch(openAlertMessage(response.exception?.response?.data));\n    } else {\n      dispatch(openAlertMessage(\"Invitation rejected!\"));\n    }\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}